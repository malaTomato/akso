<!--index.wxml-->
<view class="container">
  <view class="userinfo">
    <button wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取头像昵称 </button>
    <block wx:else>
      <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" mode="cover"></image>
      <text class="userinfo-nickname">{{userInfo.nickName}}</text>
    </block>
  </view>
  <view>

    <van-field v-model="user.username" label="用户名" placeholder="请输入真实姓名" />
    <van-field v-model="user.phone" type="tel" label="联系号码" placeholder="手机号" />
    <van-field v-model="user.operationDate" label="手术日期" bindtap="tapName" value="{{user.operationDate}}" />

    <van-popup show="{{ show }}" round position="bottom" custom-style="height: 40%;" bind:close="onClose">
      <van-datetime-picker v-model="currentDate" type="date" bind:input="onInput" bind:confirm="onClose"
        bind:cancel="onClose" />
    </van-popup>
    
  </view>
  <view>
    <van-button color="linear-gradient(to right, #4bb0ff, #6149f6)" round type="info"  class='Scancode' bind:click="submit">
      提交信息
    </van-button>
  </view>
</view>